# Host
IP: 
```
192.168.229.52
```

## objective
**Capstone Exercise**: An exploitable server is running services on several ports on the exercise VM, _PublicExploits03_. Treat this like a real box and start by identifying what services are running. There is a local user _student_ on this box with the password _lab_. Exploit the vulnerable service and SSH to the box to read _flag.txt_ located in _/home/challenge/_.

# nmap

```
Not shown: 999 closed tcp ports (reset)
PORT   STATE SERVICE
22/tcp open  ssh

32822/tcp open   james-admin JAMES Remote Admin 2.3.2
32823/tcp open   nntp        JAMES nntpd (posting ok)
32824/tcp open   pop3        JAMES pop3d 2.3.2
32825/tcp open   smtp        JAMES smtpd 2.3.2
|_smtp-commands: f01f16437937 Hello nmap.scanme.org (192.168.45.216 [192.168.45.216])
32826/tcp open   ssh         OpenSSH 7.6p1 Ubuntu 4ubuntu0.5 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 4e:7a:b4:a3:82:d1:a0:15:fd:4d:0f:0b:b2:62:de:fb (RSA)
|   256 bc:c7:cf:1b:17:f6:eb:3b:3f:d1:3a:1f:d5:d4:bd:bf (ECDSA)
|_  256 4c:5a:7c:6f:e7:92:72:1d:3f:15:71:89:aa:7e:6e:a2 (ED25519)

No exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ).
TCP/IP fingerprint:
OS:SCAN(V=7.94SVN%E=4%D=12/29%OT=32822%CT=32827%CU=32107%PV=Y%DS=4%DC=T%G=Y
OS:%TM=658EA814%P=x86_64-pc-linux-gnu)SEQ(SP=103%GCD=1%ISR=10E%TI=Z%II=I%TS
OS:=A)SEQ(SP=104%GCD=1%ISR=10E%TI=Z%TS=A)SEQ(SP=104%GCD=1%ISR=10E%TI=Z%II=I
OS:%TS=A)OPS(O1=M551ST11NW7%O2=M551ST11NW7%O3=M551NNT11NW7%O4=M551ST11NW7%O
OS:5=M551ST11NW7%O6=M551ST11)WIN(W1=FE88%W2=FE88%W3=FE88%W4=FE88%W5=FE88%W6
OS:=FE88)ECN(R=Y%DF=Y%T=3F%W=FAF0%O=M551NNSNW7%CC=Y%Q=)T1(R=Y%DF=Y%T=3F%S=O
OS:%A=S+%F=AS%RD=0%Q=)T2(R=N)T3(R=N)T4(R=N)T5(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=
OS:AR%O=%RD=0%Q=)T6(R=N)T7(R=N)U1(R=Y%DF=N%T=40%IPL=164%UN=0%RIPL=G%RID=G%R
OS:IPCK=G%RUCK=ACDC%RUD=G)IE(R=Y%DFI=N%T=40%CD=S)
```

# Exploit
#james #james_remote_administration #remote_admin_tool
https://www.exploit-db.com/exploits/50347
- move `#!/usr/bin/python3` to the top of the script
- update line 65: change James Administration tool port from `4555` to  `32822` 
- update line 79: change James SMTP port from `25` to  `32825` 
Then run the script with *remote host ip* , *local host ip*, and *local listening port*
A user gets added via smtp. Next time a user remotes into the machine using ssh, a shell gets created.
Wait about a minute and user `challenge` does this automatically.
get a shell with that user and get the flag.
